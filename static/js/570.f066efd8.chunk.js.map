{"version":3,"file":"static/js/570.f066efd8.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","pages/MovieDetailsPage.jsx","service/ApiConfig.js","service/MoviesService.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieDetails\":\"MovieDetails_movieDetails__EqwEX\",\"goBack\":\"MovieDetails_goBack__z8Pee\",\"basicInfo\":\"MovieDetails_basicInfo__0CMud\",\"imageContainer\":\"MovieDetails_imageContainer__XDpVY\",\"image\":\"MovieDetails_image__tPD8f\",\"placeholder\":\"MovieDetails_placeholder__0GJNF\",\"detailsContainer\":\"MovieDetails_detailsContainer__fp5oH\",\"title\":\"MovieDetails_title__RBndM\",\"userScore\":\"MovieDetails_userScore__cWf6H\",\"overview\":\"MovieDetails_overview__EVogb\",\"genres\":\"MovieDetails_genres__80iSK\",\"addInfo\":\"MovieDetails_addInfo__xdErv\",\"link\":\"MovieDetails_link__wf74g\"};","\nimport React from 'react';\nimport { Link, Outlet } from 'react-router-dom';\nimport { getImageUrl } from '../../service/MoviesService';\nimport { FiArrowLeft } from 'react-icons/fi';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = ({ movieDetails, previousPath }) => {\n  \n  const { poster_path, title, release_date, vote_average, overview, genres } =\n    movieDetails;\n  \n  const imageUrl = poster_path ? getImageUrl(poster_path) : null;\n\n  return (\n    <section className={css.movieDetails}>\n      <Link to={previousPath} className={css.goBack}>\n        <FiArrowLeft className={css.icon} />\n        Go back\n      </Link>\n      <section className={css.basicInfo}>\n        <div className={css.imageContainer}>\n          {imageUrl ? (\n            <img src={imageUrl} alt={title} className={css.image} />\n          ) : (\n            <div className={css.placeholder}>No Image</div>\n          )}\n        </div>\n        <div className={css.detailsContainer}>\n          <h2 className={css.title}>\n            {title} ({release_date.slice(0, 4)})\n          </h2>\n          <p className={css.userScore}>\n            User Score: {Math.round(vote_average * 10)}%\n          </p>\n          <p className={css.overview}>Overview: {overview}</p>\n          <p className={css.genres}>\n            Genres: {genres.map(genre => genre.name).join(', ')}\n          </p>\n        </div>\n      </section>\n      <section className={css.addInfo}>\n        <h2>Additional information</h2>\n        <Link to=\"cast\" className={css.link}>\n          Cast\n        </Link>\n        <Link to=\"reviews\" className={css.link}>\n          Reviews\n        </Link>\n      </section>\n        <Outlet />\n    </section>\n  );\n};\n\nexport default MovieDetails;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { useParams, useLocation, Link } from 'react-router-dom';\nimport { fetchMovieDetails } from '../service/MoviesService';\nimport MovieDetails from '../components/MovieDetails';\nimport { Loader } from '../components/Loader/Loader';\n\nconst MovieDetailsPage = () => {\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const location = useLocation();\n  const backLinkLocation = useRef(location.state?.from ?? '/');\n  const previousPath = backLinkLocation.current;\n  // const previousPath = location.state?.from ?? '/';\n\n  useEffect(() => {\n    const getMovieDetails = async () => {\n      try {\n        setIsLoading(true);\n        const details = await fetchMovieDetails(movieId);\n      \n        setMovieDetails(details);\n      } catch (error) {\n        console.error(error);\n        setError('The resource you requested could not be found.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getMovieDetails();\n  }, [movieId]);\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  if (error) {\n    return (\n      <section>\n        <p>{error}</p>\n        <Link to={previousPath}>Go back</Link>\n      </section>\n    );\n  }\n\n  if (!movieDetails) {\n    return null;\n  }\n\n  return (\n    <MovieDetails movieDetails={movieDetails} previousPath={previousPath} />\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjOGFjODFjMzk0ODNkOGVmMmY5N2ZkNTBjNjA4NmQ1NyIsInN1YiI6IjY0OGYzM2NiYzNjODkxMDBhZTUxODllMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Sy6yeDv4hwTPYW8QyN_kvYlj0SfCrm-aR769hvjNTqI',\n  },\n};\n\nconst axiosInstance = axios.create({\n  baseURL: BASE_URL,\n  headers: options.headers,\n});\n\nexport default axiosInstance;\n","import axiosInstance from './ApiConfig';\n\nasync function fetchTrendingMovies() {\n  try {\n    const response = await axiosInstance.get('trending/all/day?language=en-US');\n    return response.data.results;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function searchMovies(query) {\n  try {\n    const response = await axiosInstance.get(\n      `search/movie?query=${query}&include_adult=false&language=en-US&page=1`\n    );\n    return response.data.results;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function fetchMovieDetails(movieId) {\n  try {\n    const response = await axiosInstance.get(`movie/${movieId}?language=en-US`);\n    return response.data;\n  } catch (error) {\n    \n    throw new Error(`Failed to fetch details for movie with ID: ${movieId}`);\n  }\n}\n\nasync function fetchMovieAddInfo(movieId, paramInfo) {\n  try {\n    const response = await axiosInstance.get(\n      `movie/${movieId}/${paramInfo}?language=en-US&page=1`\n    );\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nconst getImageUrl = (path) => {\n  if (!path) return null;\n  return `https://image.tmdb.org/t/p/original${path}`;\n};\n\nexport {\n  fetchTrendingMovies,\n  searchMovies,\n  fetchMovieDetails,\n  fetchMovieAddInfo,\n  getImageUrl\n};\n"],"names":["movieDetails","previousPath","poster_path","title","release_date","vote_average","overview","genres","imageUrl","getImageUrl","className","css","to","src","alt","slice","Math","round","map","genre","name","join","movieId","useParams","useState","setMovieDetails","isLoading","setIsLoading","error","setError","location","useLocation","useRef","state","from","current","useEffect","getMovieDetails","fetchMovieDetails","details","console","Loader","axios","baseURL","headers","accept","Authorization","fetchTrendingMovies","axiosInstance","response","data","results","searchMovies","query","Error","fetchMovieAddInfo","paramInfo","path"],"sourceRoot":""}