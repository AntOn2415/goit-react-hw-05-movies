{"version":3,"file":"static/js/773.73fb4a3b.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","service/ApiConfig.js","service/MoviesService.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieDetails\":\"MovieDetails_movieDetails__EqwEX\",\"goBack\":\"MovieDetails_goBack__z8Pee\",\"basicInfo\":\"MovieDetails_basicInfo__0CMud\",\"imageContainer\":\"MovieDetails_imageContainer__XDpVY\",\"image\":\"MovieDetails_image__tPD8f\",\"placeholder\":\"MovieDetails_placeholder__0GJNF\",\"detailsContainer\":\"MovieDetails_detailsContainer__fp5oH\",\"title\":\"MovieDetails_title__RBndM\",\"userScore\":\"MovieDetails_userScore__cWf6H\",\"overview\":\"MovieDetails_overview__EVogb\",\"genres\":\"MovieDetails_genres__80iSK\",\"addInfo\":\"MovieDetails_addInfo__xdErv\",\"link\":\"MovieDetails_link__wf74g\"};","import { Suspense, useEffect, useRef, useState } from 'react';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { FiArrowLeft } from 'react-icons/fi';\nimport { fetchMovieDetails, getImageUrl } from '../../service/MoviesService';\nimport { Loader } from '../Loader/Loader';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const location = useLocation();\n\n  const backLinkLocation = useRef(location.state?.from ?? '/');\n  const previousPath = backLinkLocation.current;\n\n  useEffect(() => {\n    const getMovieDetails = async () => {\n      try {\n        setIsLoading(true);\n        const details = await fetchMovieDetails(movieId);\n        setMovieDetails(details);\n      } catch (error) {\n        console.error(error);\n        setError('The resource you requested could not be found.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getMovieDetails();\n  }, [movieId]);\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  if (error) {\n    return (\n      <section className={css.movieDetails}>\n        <p>{error}</p>\n        <Link to={previousPath} className={css.goBack}>\n          <FiArrowLeft className={css.icon} />\n          Go back\n        </Link>\n      </section>\n    );\n  }\n\n  if (!movieDetails) {\n    return null;\n  }\n\n  const { poster_path, title, release_date, vote_average, overview, genres } =\n    movieDetails;\n\n  const imageUrl = poster_path ? getImageUrl(poster_path) : null;\n\n  return (\n    <section className={css.movieDetails}>\n      <Link to={previousPath} className={css.goBack}>\n        <FiArrowLeft className={css.icon} />\n        Go back\n      </Link>\n      <section className={css.basicInfo}>\n        <div className={css.imageContainer}>\n          {imageUrl ? (\n            <img src={imageUrl} alt={title} className={css.image} />\n          ) : (\n            <div className={css.placeholder}>No Image</div>\n          )}\n        </div>\n        <div className={css.detailsContainer}>\n          <h2 className={css.title}>\n            {title} ({release_date.slice(0, 4)})\n          </h2>\n          <p className={css.userScore}>\n            User Score: {Math.round(vote_average * 10)}%\n          </p>\n          <p className={css.overview}>Overview: {overview}</p>\n          <p className={css.genres}>\n            Genres: {genres.map(genre => genre.name).join(', ')}\n          </p>\n        </div>\n      </section>\n      <section className={css.addInfo}>\n        <h2>Additional information</h2>\n        <Link to=\"cast\" className={css.link}>\n          Cast\n        </Link>\n        <Link to=\"reviews\" className={css.link}>\n          Reviews\n        </Link>\n      </section>\n      <Suspense>\n        <Outlet />\n      </Suspense>\n    </section>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjOGFjODFjMzk0ODNkOGVmMmY5N2ZkNTBjNjA4NmQ1NyIsInN1YiI6IjY0OGYzM2NiYzNjODkxMDBhZTUxODllMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Sy6yeDv4hwTPYW8QyN_kvYlj0SfCrm-aR769hvjNTqI',\n  },\n};\n\nconst axiosInstance = axios.create({\n  baseURL: BASE_URL,\n  headers: options.headers,\n});\n\nexport default axiosInstance;\n","import axiosInstance from './ApiConfig';\n\nasync function fetchTrendingMovies() {\n  try {\n    const response = await axiosInstance.get('trending/all/day?language=en-US');\n    return response.data.results;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function searchMovies(query) {\n  try {\n    const response = await axiosInstance.get(\n      `search/movie?query=${query}&include_adult=false&language=en-US&page=1`\n    );\n    return response.data.results;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function fetchMovieDetails(movieId) {\n  try {\n    const response = await axiosInstance.get(`movie/${movieId}?language=en-US`);\n    return response.data;\n  } catch (error) {\n    \n    throw new Error(`Failed to fetch details for movie with ID: ${movieId}`);\n  }\n}\n\nasync function fetchMovieCredits(movieId) {\n  try {\n    const response = await axiosInstance.get(\n      `movie/${movieId}/credits?language=en-US`\n    );\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function fetchMovieReviews(movieId) {\n  try {\n    const response = await axiosInstance.get(\n      `movie/${movieId}/reviews?language=en-US&page=1`\n    );\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nconst getImageUrl = (path) => {\n  if (!path) return null;\n  return `https://image.tmdb.org/t/p/original${path}`;\n};\n\nexport {\n  fetchTrendingMovies,\n  searchMovies,\n  fetchMovieDetails,\n  fetchMovieCredits,\n  fetchMovieReviews,\n  getImageUrl\n};\n"],"names":["movieId","useParams","useState","movieDetails","setMovieDetails","isLoading","setIsLoading","error","setError","location","useLocation","previousPath","useRef","state","from","current","useEffect","getMovieDetails","fetchMovieDetails","details","console","Loader","className","css","to","poster_path","title","release_date","vote_average","overview","genres","imageUrl","getImageUrl","src","alt","slice","Math","round","map","genre","name","join","Suspense","axios","baseURL","headers","accept","Authorization","fetchTrendingMovies","axiosInstance","response","data","results","searchMovies","query","Error","fetchMovieCredits","fetchMovieReviews","path"],"sourceRoot":""}