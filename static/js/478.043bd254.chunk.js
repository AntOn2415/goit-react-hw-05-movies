"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[478],{5412:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(7689),a=r(1087),c="MoviesListItem_movieLink__7wLUU",u=r(184),s=function(e){var t=e.movie,r=(0,n.TH)(),s="/"===r.pathname?"/movies/".concat(t.id):"".concat(t.id);return(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:s,state:{from:r},className:c,children:t.title||t.name})})},i="MoviesList_movieList__8BnEE",o=function(e){var t=e.movies;return(0,u.jsx)("ul",{className:i,children:t.map((function(e){return(0,u.jsx)(s,{movie:e},e.id)}))})}},6478:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(5861),a=r(9439),c=r(4687),u=r.n(c),s=r(2791),i=r(1087),o=r(7596),h=r(608),l=r(9983),f=r(6355),p={searchForm:"Searchbar_searchForm__Bt5yh",searchInput:"Searchbar_searchInput__+BnhG",searchButton:"Searchbar_searchButton__8lE-T",searchLabel:"Searchbar_searchLabel__yveFe"},v=r(184);var m=function(e){var t=e.onSubmit,r=(0,s.useState)(""),n=(0,a.Z)(r,2),c=n[0],u=n[1],i=(0,s.useState)(""),h=(0,a.Z)(i,2),m=h[0],d=h[1];return(0,v.jsx)("div",{children:(0,v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?c!==m?(t(c),u(""),d(c)):o.Am.info("Sorry, the result of this request is already in front of you, try another way"):o.Am.info("Please enter a search query")},className:p.searchForm,children:[(0,v.jsx)("input",{type:"text",name:"searchQuery",value:c,onChange:function(e){u(e.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search movie",className:p.searchInput}),(0,v.jsxs)("button",{type:"submit",className:p.searchButton,children:[(0,v.jsx)(l.Pd.Provider,{value:{color:"#007bff",size:20},children:(0,v.jsx)(f.U41,{className:p.searchIcon})}),(0,v.jsx)("label",{className:p.searchLabel,children:"Search"})]})]})})},d=r(6673),y=r(5412),x=(r(5462),function(){var e=(0,s.useState)(""),t=(0,a.Z)(e,2),r=t[0],c=t[1],l=(0,s.useState)([]),f=(0,a.Z)(l,2),p=f[0],x=f[1],b=(0,s.useState)(!1),_=(0,a.Z)(b,2),j=_[0],w=_[1],g=(0,i.lr)(),N=(0,a.Z)(g,2),S=N[0],Z=N[1];(0,s.useEffect)((function(){var e=S.get("query");e&&c(e)}),[S]),(0,s.useEffect)((function(){function e(){return(e=(0,n.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,w(!0),e.next=6,(0,h.z1)(r);case 6:t=e.sent,x(t),0===t.length&&o.Am.info("No movies found."),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),new Error("Failed to search movies");case 14:return e.prev=14,w(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]);return(0,v.jsxs)("div",{children:[(0,v.jsx)(m,{onSubmit:function(e){Z({query:e}),c(e)}}),j?(0,v.jsx)(d.a,{}):(0,v.jsx)(y.Z,{movies:p})]})})},608:function(e,t,r){r.d(t,{qV:function(){return p},Y5:function(){return l},wr:function(){return s},Jn:function(){return m},z1:function(){return o}});var n=r(5861),a=r(4687),c=r.n(a),u=r(1243).Z.create({baseURL:"https://api.themoviedb.org/3/",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjOGFjODFjMzk0ODNkOGVmMmY5N2ZkNTBjNjA4NmQ1NyIsInN1YiI6IjY0OGYzM2NiYzNjODkxMDBhZTUxODllMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Sy6yeDv4hwTPYW8QyN_kvYlj0SfCrm-aR769hvjNTqI"}});function s(){return i.apply(this,arguments)}function i(){return(i=(0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("trending/all/day?language=en-US");case 3:return t=e.sent,e.abrupt("return",t.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function o(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("search/movie?query=".concat(t,"&include_adult=false&language=en-US&page=1"));case 3:return r=e.sent,e.abrupt("return",r.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("movie/".concat(t,"?language=en-US"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Failed to fetch details for movie with ID: ".concat(t));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function p(e,t){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(c().mark((function e(t,r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("movie/".concat(t,"/").concat(r,"?language=en-US&page=1"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var m=function(e){return e?"https://image.tmdb.org/t/p/original".concat(e):null}}}]);
//# sourceMappingURL=478.043bd254.chunk.js.map